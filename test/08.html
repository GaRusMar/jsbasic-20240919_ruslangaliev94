<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8"/>
    <title>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã JavaScript</title>
    <style>
        .loader {
            display: none;
            font-size: 14px;
            line-height: 1;
            font-weight: 700;
            color: #bada55;
        }
    </style>
</head>
<body>

<span class="loader">–ó–∞–≥—Ä—É–∑–∫–∞</span>

<!--
=== –í–∫–ª–∞–¥–∫–∞ Network –≤ DevTools ===

–í–∫–ª–∞–¥–∫–∞ Network –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
–ú–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ —Ç–∏–ø—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî "All").
-->

<!--
=== –†–∞–∑–¥–µ–ª Headers (–ó–∞–≥–æ–ª–æ–≤–∫–∏) ===

–ó–∞–≥–æ–ª–æ–≤–∫–∏ ‚Äî —ç—Ç–æ —Å–ª—É–∂–µ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–∞—è –º–µ–∂–¥—É –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º.

- Request Headers ‚Äî –∑–∞–≥–æ–ª–æ–≤–∫–∏, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –±—Ä–∞—É–∑–µ—Ä–æ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  (–Ω–∞–ø—Ä–∏–º–µ—Ä, —è–∑—ã–∫, —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –û–°).
- Response Headers ‚Äî –∑–∞–≥–æ–ª–æ–≤–∫–∏, –ø—Ä–∏—Ö–æ–¥—è—â–∏–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
  (–Ω–∞–ø—Ä–∏–º–µ—Ä, Content-Type: application/json).
- General ‚Äî –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—Ä–æ—Å–µ: –∞–¥—Ä–µ—Å, –º–µ—Ç–æ–¥ (GET, POST –∏ –¥—Ä.),
  —Å—Ç–∞—Ç—É—Å, IP –∏ —Ç.–¥.
-->

<!--
=== –†–∞–∑–¥–µ–ª Payload ===

–ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã.

- Query String Params ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –ø—Ä—è–º–æ –≤ URL
  (–Ω–∞–ø—Ä–∏–º–µ—Ä, ?name=John&age=25).
- Payload ‚Äî —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (—á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å POST).
  –û–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞–≥–ª—è–¥–Ω–µ–µ, —á–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ URL.
-->

<!--
=== –†–∞–∑–¥–µ–ª Preview –∏ Response ===

- Preview ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –ø—Ä–∏—à–µ–¥—à–∏–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞, –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.
- Response ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ¬´—Å—ã—Ä–æ–π¬ª –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–∫–∞–∫ –æ–Ω –µ—Å—Ç—å).
-->

<!--
=== HTTP-—Å—Ç–∞—Ç—É—Å—ã ===

–ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å–æ–º:
- 200‚Äì299 ‚Äî –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω.
- 300‚Äì399 ‚Äî –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
- 400‚Äì499 ‚Äî –æ—à–∏–±–∫–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞.
- 500‚Äì599 ‚Äî –æ—à–∏–±–∫–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞.

–î–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –≤ Google –ø–æ –Ω–æ–º–µ—Ä—É –∫–æ–¥–∞.
-->

<!--
=== HTTP-–º–µ—Ç–æ–¥—ã ===

- GET ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞ (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ URL).
- POST ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä (—Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞, –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –¥–ª—è —Ñ–æ—Ä–º).
-->

<!--
=== FormData ===

–≠—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π.

- –ü—Ä–∏ POST –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è ¬´–≤–Ω—É—Ç—Ä–∏¬ª –∑–∞–ø—Ä–æ—Å–∞, –Ω–µ –≤–∏–¥–Ω—ã –≤ URL.
- –ü—Ä–∏ GET –¥–∞–Ω–Ω—ã–µ –≤–∏–¥–Ω—ã –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, –ø–æ—ç—Ç–æ–º—É –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
-->

<!--
=== AJAX (Asynchronous JavaScript and XML) ===

AJAX –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Single Page Applications (SPA).
-->

<!--
=== –ü—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º—ã –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏ (httpbin.org) ===

httpbin.org ‚Äî —ç—Ç–æ —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞.
–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
-->

<form action="https://httpbin.org/get" id="getForm">
    <button type="submit">–ó–∞–≥—Ä—É–∑–∏—Ç—å IP-–∞–¥—Ä–µ—Å</button>
    <span id="ip"></span>
</form>

<script>

    //–¥–µ–ª–∞–µ–º –ø—Ä–µ–ª–æ—É–¥–µ—Ä, –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –æ–≤—Ç–µ—Ç–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞
    const loader = document.querySelector('.loader');

    // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    const getForm = document.querySelector('#getForm');
    const ipEl = document.querySelector('#ip');

    // –°–ª—É—à–∞–µ–º —Å–æ–±—ã—Ç–∏–µ submit —É —Ñ–æ—Ä–º—ã
    // –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ submit, –∞ –Ω–µ click –Ω–∞ –∫–Ω–æ–ø–∫–µ?
    // –ü–æ—Ç–æ–º—É —á—Ç–æ —Ñ–æ—Ä–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ –∫–Ω–æ–ø–∫–µ,
    // –Ω–æ –∏ –Ω–∞–∂–∞—Ç–∏–µ–º Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞.
    getForm.addEventListener('submit', event => {
        event.preventDefault(); // –û—Ç–º–µ–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã (–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

        // –í—ã–ø–æ–ª–Ω—è–µ–º AJAX-–∑–∞–ø—Ä–æ—Å —Å –ø–æ–º–æ—â—å—é fetch
        // fetch ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å HTTP-–∑–∞–ø—Ä–æ—Å–∞–º–∏.
        // –û–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å (promise), –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.

        // –ø–µ—Ä–µ–¥ fetch –∑–∞–ø—É—Å–∫–∞–µ–º –Ω–∞—à loader
        loader.style.display = 'block'
        fetch('https://httpbin.org/get')
            .then(response => {
                console.log('response:', response);

                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (Content-Type)
                const contentType = response.headers.get('content-type');
                console.log('Content-Type:', contentType);

                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
                if (contentType && contentType.includes('json')) {
                    return response.json(); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º JSON –≤ –æ–±—ä–µ–∫—Ç
                } else {
                    return response.text(); // –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ JSON, –≤–µ—Ä–Ω–µ–º –∫–∞–∫ —Ç–µ–∫—Å—Ç
                }
            })
            .then(data => {
                console.log('data:', data);

                // –í—ã–≤–æ–¥–∏–º IP-–∞–¥—Ä–µ—Å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
                // httpbin –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–µ "origin" ‚Äî —ç—Ç–æ IP-–∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞
                ipEl.textContent = data.origin;

                // –ø—Ä—è—á–µ–º loader –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
                loader.style.display = 'none'
            })

    });
</script>

<!--
üí° –°–æ–≤–µ—Ç:
–í DevTools (–≤–∫–ª–∞–¥–∫–∞ Network) –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
(–Ω–∞–ø—Ä–∏–º–µ—Ä, 3G –∏–ª–∏ 4G), —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ –≤–µ–¥—ë—Ç —Å–µ–±—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–π —Å–µ—Ç–∏.
-->

</body>
</html>
